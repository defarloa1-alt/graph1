{
    "$schema":  "http://json-schema.org/draft-07/schema#",
    "$id":  "https://chrystallum.org/schemas/spatiotemporal_validation_out.json",
    "title":  "Spatiotemporal Validation Output",
    "description":  "Result of geographic-temporal validation with conflict details",
    "type":  "object",
    "required":  [
                     "request_id",
                     "claim_id",
                     "status"
                 ],
    "properties":  {
                       "request_id":  {
                                          "type":  "string"
                                      },
                       "claim_id":  {
                                        "type":  "string"
                                    },
                       "status":  {
                                      "type":  "string",
                                      "enum":  [
                                                   "success",
                                                   "error"
                                               ]
                                  },
                       "data":  {
                                    "type":  "object",
                                    "required":  [
                                                     "valid",
                                                     "conflicts"
                                                 ],
                                    "properties":  {
                                                       "valid":  {
                                                                     "type":  "boolean"
                                                                 },
                                                       "conflicts":  {
                                                                         "type":  "array",
                                                                         "items":  {
                                                                                       "type":  "object",
                                                                                       "required":  [
                                                                                                        "type",
                                                                                                        "severity",
                                                                                                        "message"
                                                                                                    ],
                                                                                       "properties":  {
                                                                                                          "type":  {
                                                                                                                       "type":  "string",
                                                                                                                       "enum":  [
                                                                                                                                    "place_out_of_scope",
                                                                                                                                    "time_out_of_range",
                                                                                                                                    "period_place_mismatch"
                                                                                                                                ]
                                                                                                                   },
                                                                                                          "severity":  {
                                                                                                                           "type":  "string",
                                                                                                                           "enum":  [
                                                                                                                                        "error",
                                                                                                                                        "warning"
                                                                                                                                    ]
                                                                                                                       },
                                                                                                          "message":  {
                                                                                                                          "type":  "string"
                                                                                                                      },
                                                                                                          "details":  {
                                                                                                                          "type":  "object",
                                                                                                                          "additionalProperties":  false
                                                                                                                      }
                                                                                                      },
                                                                                       "additionalProperties":  false
                                                                                   }
                                                                     },
                                                       "validation_metadata":  {
                                                                                   "type":  "object",
                                                                                   "properties":  {
                                                                                                      "period_label":  {
                                                                                                                           "type":  "string"
                                                                                                                       },
                                                                                                      "period_time_range":  {
                                                                                                                                "type":  "object",
                                                                                                                                "properties":  {
                                                                                                                                                   "begin":  {
                                                                                                                                                                 "type":  "integer"
                                                                                                                                                             },
                                                                                                                                                   "end":  {
                                                                                                                                                               "type":  "integer"
                                                                                                                                                           }
                                                                                                                                               },
                                                                                                                                "additionalProperties":  false
                                                                                                                            },
                                                                                                      "valid_regions":  {
                                                                                                                            "type":  "array",
                                                                                                                            "items":  {
                                                                                                                                          "type":  "string"
                                                                                                                                      }
                                                                                                                        },
                                                                                                      "checked_places":  {
                                                                                                                             "type":  "array",
                                                                                                                             "items":  {
                                                                                                                                           "type":  "string"
                                                                                                                                       }
                                                                                                                         }
                                                                                                  },
                                                                                   "additionalProperties":  false
                                                                               }
                                                   },
                                    "additionalProperties":  false
                                },
                       "error":  {
                                     "type":  [
                                                  "object",
                                                  "null"
                                              ],
                                     "additionalProperties":  false
                                 }
                   },
    "additionalProperties":  false
}